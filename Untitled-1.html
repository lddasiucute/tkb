<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thời Khóa Biểu Tuần</title>
  <style>
    body {
      background: linear-gradient(135deg, #7b2ff7, #f107a3);
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #00c6ff;
      color: white;
    }
    .period-label {
      background: #e91e63;
      color: white;
      font-weight: bold;
    }
    .section-label {
      background: linear-gradient(to right, #ff9a9e, #fad0c4);
      font-weight: bold;
      text-align: center;
      padding: 8px;
    }
    td[contenteditable="true"] {
      background: #f9f9f9;
      cursor: text;
    }
    .buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    button {
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: 0.3s;
    }
    .save-btn {
      background: linear-gradient(to right, #36d1dc, #5b86e5);
      color: white;
    }
    .clear-btn {
      background: #e74c3c;
      color: white;
    }
    button:hover {
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>📅 THỜI KHÓA BIỂU TUẦN</h1>
    <table id="tkb">
      <thead>
        <tr>
          <th>Tiết / Thời gian</th>
          <th>Thứ 2</th>
          <th>Thứ 3</th>
          <th>Thứ 4</th>
          <th>Thứ 5</th>
          <th>Thứ 6</th>
        </tr>
      </thead>
      <tbody>
        <!-- Buổi sáng -->
        <tr><td colspan="6" class="section-label">📅 BUỔI SÁNG</td></tr>
        <script>
          const times = [
            "6:45–7:30", "7:30–8:15", "8:25–9:10", "9:20–10:05", "10:15–11:00", "11:00–11:45",
            "12:30–13:15", "13:15–14:00", "14:10–14:55", "15:05–15:50", "16:00–16:45", "16:45–17:30",
            "17:45–18:30", "18:30–19:15"
          ];
          for (let i = 0; i < 14; i++) {
            if (i === 6) {
              document.write('<tr><td colspan="6" class="section-label">👨‍🏫 BUỔI CHIỀU</td></tr>');
            }
            if (i === 12) {
              document.write('<tr><td colspan="6" class="section-label">🌜 BUỔI TỐI</td></tr>');
            }
            document.write(`<tr><td class="period-label">Tiết ${i+1}<br>${times[i]}</td>`);
            for (let j = 2; j <= 6; j++) {
              const cellId = `cell-${i}-${j}`;
              document.write(`<td contenteditable=\"true\" id=\"${cellId}\"></td>`);
            }
            document.write('</tr>');
          }
        </script>
      </tbody>
    </table>

    <div class="buttons">
      <button class="save-btn" onclick="saveSchedule()">💾 Lưu Thời Khóa Biểu</button>
      <button class="clear-btn" onclick="clearSchedule()">🗑️ Xóa Tất Cả</button>
    </div>
  </div>

  <script>
    function saveSchedule() {
      const cells = document.querySelectorAll('td[contenteditable="true"]');
      cells.forEach(cell => {
        localStorage.setItem(cell.id, cell.innerText.trim());
      });
      alert("Đã lưu thời khoá biểu!");
    }

    function loadSchedule() {
      const cells = document.querySelectorAll('td[contenteditable="true"]');
      cells.forEach(cell => {
        const saved = localStorage.getItem(cell.id);
        if (saved) cell.innerText = saved;
      });
    }

    function clearSchedule() {
      if (confirm("Bạn có chắc muốn xoá toàn bộ thời khoá biểu?")) {
        const cells = document.querySelectorAll('td[contenteditable="true"]');
        cells.forEach(cell => {
          cell.innerText = "";
          localStorage.removeItem(cell.id);
        });
      }
    }

    window.onload = loadSchedule;
  </script>
</body>
</html>
